{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","components/Error.js","services/puhelinluettelo.js","App.js","index.js"],"names":["Filter","handleFilterChange","onChange","Persons","person","deleteSelectedPerson","name","number","onClick","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","type","Notification","message","className","Error","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","filter","setFilter","infoMessage","setInfoMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","filteredPersons","length","toUpperCase","includes","event","target","preventDefault","some","e","window","confirm","find","n","changedPerson","returnedPerson","setTimeout","map","person2","catch","error","concat","console","log","i","key","deletePersonWith","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4e493a89.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ handleFilterChange }) => (\n    <div>\n        filter shown with <input onChange={handleFilterChange} />\n    </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst Persons = ({ person, deleteSelectedPerson }) => (\n    <p>\n        {person.name} {person.number} <button onClick={deleteSelectedPerson}>delete</button>\n    </p>\n)\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n                <div>name: <input value={newName} onChange={handleNameChange} /></div>\n                <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n                <div><button type=\"submit\">add</button></div>\n            </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message == null) {\n        return null\n    }\n\n    return (\n        <div className=\"info\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({ message }) => {\n    if (message == null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/puhelinluettelo'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [infoMessage, setInfoMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(e => e.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(n => n.name === newName) // the original one in the server\n        const changedPerson = { ...person, number: newNumber } // the changed one\n\n        personService\n          .update(person.id, changedPerson).then(returnedPerson => {\n            setInfoMessage(\n              `Updated ${returnedPerson.name}`\n            )\n            setTimeout(() => {\n              setInfoMessage(null)\n            }, 2000)\n            setPersons(persons.map(person2 => person2.id !== person.id ? person2 : returnedPerson))\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${person.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(n => n.id !== person.id))\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setInfoMessage(\n            `Added ${returnedPerson.name}`\n          )\n          setTimeout(() => {\n            setInfoMessage(null)\n          }, 2000)\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          const errorMessage = error.response.data.error\n          console.log(errorMessage)\n          setErrorMessage(errorMessage)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const deletePersonWith = id => {\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deletePerson(id)\n      setInfoMessage(\n        `Deleted ${person.name}`\n      )\n      setTimeout(() => {\n        setInfoMessage(null)\n      }, 2000)\n      setPersons(persons.filter(n => n.id !== id))\n    }\n  }\n\n  const filteredPersons = filter.length === 0\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={infoMessage} />\n      <Error message={errorMessage} />\n      <Filter handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n\n      <h3>Numbers</h3>\n\n      {filteredPersons.map((person, i) =>\n        <Persons\n          key={i}\n          person={person}\n          deleteSelectedPerson={() => deletePersonWith(person.id)}\n        />\n      )}\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}